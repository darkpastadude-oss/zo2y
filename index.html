<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zo2y</title>
  <link rel="stylesheet" href="style.css">
  <style>
    * {margin:0;padding:0;box-sizing:border-box;font-family:sans-serif;}
    body {overflow-x:hidden;}

    /* Top Stripe + Logo */
    .top-stripe {background:#FF6F00; height:20px; position:relative;}
    .logo {
      position:absolute;
      top:50px;
      left:50%;
      transform:translateX(-50%);
      width:120px;
      animation: float 3s ease-in-out infinite;
      cursor:pointer;
      z-index:1;
    }
    @keyframes float {0%,100%{transform:translate(-50%,0);}50%{transform:translate(-50%,-5px);} }

    /* Header Buttons */
    .header-buttons {
      position:absolute;
      top:25px;
      right:20px;
      display:flex;
      align-items:center;
      gap:10px;
      z-index:1000;
    }
    .header-buttons button {
      background: var(--button-bg); color: var(--button-text); padding:8px 16px;
      border:none; border-radius:20px; cursor:pointer; font-size:0.9rem; transition:background 0.3s;
    }
    .header-buttons button:hover {background: var(--button-bg-hover);}
    .dark-toggle {
      font-size:1.2rem; cursor:pointer; padding:6px 10px; border-radius:50%;
      background: var(--nav-bg);
      color: var(--text-color-primary);
      transition: background 0.3s;
    }
    .dark-toggle:hover {background:#ddd;}

    /* Hero Section */
    .hero {text-align:center; padding:160px 20px 80px 20px; position:relative;}
    .hero h1 {font-size:3rem;margin-bottom:20px;opacity:0;animation:fadeInUp 1s forwards; color: var(--text-color-primary);}
    .hero p {font-size:1.2rem;color: var(--text-color-secondary); margin-bottom:40px;opacity:0;animation:fadeInUp 1s 0.3s forwards;}
    .get-started {
      background: var(--button-bg); color: var(--button-text); padding:15px 50px;font-size:1.2rem;border:none;border-radius:30px;
      cursor:pointer;transition: transform 0.3s, box-shadow 0.3s;opacity:0;animation:fadeInUp 1s 0.6s forwards;
    }
    .get-started:hover {transform:scale(1.1); box-shadow:0 8px 20px rgba(255,111,0,0.5);}

    @keyframes fadeInUp {from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);} }

    /* Restaurants Section */
    .restaurants {display:flex;gap:20px;padding:50px 20px;justify-content:center;flex-wrap:wrap;}
    .restaurant-card {
      flex:0 0 180px;background: var(--card-bg); border-radius:15px;
      box-shadow:0 5px 15px rgba(0,0,0,0.1);padding:20px;text-align:center;
      transform:translateY(50px);opacity:0;transition: transform 0.6s, opacity 0.6s, background-color 0.3s, color 0.3s;cursor:pointer;
    }
    .restaurant-card p {margin-bottom:10px; color: var(--text-color-secondary); font-size:0.9rem;}
    .restaurant-card:hover {transform:translateY(-5px) scale(1.03); box-shadow:0 10px 25px rgba(0,0,0,0.15);}

    .icon-wrapper {display:flex; justify-content:center; margin-bottom:10px;}
    .restaurant-icon {width:60px;height:60px;border-radius:50%;border:2px solid #FF6F00;}

    .more-icon {
      width:60px;height:60px;border-radius:50%;border:2px dashed #FF6F00;
      display:flex; align-items:center; justify-content:center;font-size:2rem;color:#FF6F00;
      transition: transform 0.3s, background 0.3s;
    }
    .more-icon:hover {transform: scale(1.2); background: rgba(255,111,0,0.1);}

    .stars {color:#FF6F00; font-size:1.2rem; cursor:pointer;}
    .star:hover, .star.active {color:#FF4500;}

    /* Footer */
    footer {text-align:center; padding:40px 20px; border-top:1px solid var(--nav-shadow); font-size:0.9rem; color: var(--text-color-secondary);}

    /* Back to Top */
    #backToTop {
      position:fixed; bottom:20px; left:20px; width:50px; height:50px;
      background:#FF6F00; color:#000; font-size:1.5rem; border:none;
      border-radius:8px; display:flex; align-items:center; justify-content:center;
      cursor:pointer; opacity:0; visibility:hidden;
      transition:opacity 0.3s ease, visibility 0.3s ease, transform 0.2s ease;
      z-index:1000; box-shadow:0 6px 18px rgba(0,0,0,0.12);
    }
    #backToTop.show {opacity:1; visibility:visible;}
    #backToTop span {display:inline-block; transform-origin:center; transition: transform 0.45s cubic-bezier(.2,.9,.2,1); font-weight:700; color:#000;}
    #backToTop:hover {transform: translateY(-3px);}
    #backToTop:hover span {transform: rotate(360deg);}
  </style>
</head>
<body>
  <!-- Top Stripe + Logo -->
  <div class="top-stripe">
    <img src="images/logo.png" alt="Zo2y Logo" class="logo" onclick="window.location.href='index.html'">
    <div class="header-buttons" id="headerButtons">
      <button onclick="window.location.href='login.html'">Login</button>
      <button onclick="window.location.href='sign-up.html'">Sign Up</button>
      <div class="dark-toggle" title="Dark Mode" id="theme-toggle">ðŸŒ™</div>
    </div>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <h1>Discover and Rate the Best Spots Around You</h1>
    <p>Restaurants, malls, cinemas, and moreâ€”your go-to rating app.</p>
    <button class="get-started" onclick="window.location.href='sign-up.html'">Get Started</button>
  </section>

  <!-- Restaurants Preview -->
  <section class="restaurants" id="restaurants"></section>

  <!-- Footer -->
  <footer>Â© 2025 Zo2y. All rights reserved.</footer>

  <!-- Back to Top -->
  <button id="backToTop" aria-label="Back to top"><span>â†‘</span></button>

  <!-- Scripts -->
  <script>
    // ===== DARK MODE SYSTEM =====
    const themeToggleBtn = document.getElementById('theme-toggle');

    function applyTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
    }
    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      applyTheme(newTheme);
      localStorage.setItem('zo2y-theme', newTheme);
    }
    function initializeTheme() {
      const savedTheme = localStorage.getItem('zo2y-theme');
      if (savedTheme) {
        applyTheme(savedTheme);
      } else {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(prefersDark ? 'dark' : 'light');
      }
      if (themeToggleBtn) {
        themeToggleBtn.addEventListener('click', toggleTheme);
      }
    }
    document.addEventListener('DOMContentLoaded', initializeTheme);

    // ===== Back to Top =====
    const backToTop = document.getElementById('backToTop');
    window.addEventListener('scroll', () => {
      if(window.scrollY > 200){ backToTop.classList.add('show'); }
      else{ backToTop.classList.remove('show'); }
    });
    backToTop.addEventListener('click', () => { window.scrollTo({top:0, behavior:'smooth'}); });

    // ===== AUTH INTEGRATION =====
    async function checkUser() {
      const token = localStorage.getItem('token');
      const headerButtons = document.getElementById('headerButtons');
      if(!token) return;
      try {
        const res = await fetch('/api/auth/me', { headers: { 'Authorization': `Bearer ${token}` } });
        const data = await res.json();
        if(res.ok && data.user){
          headerButtons.innerHTML = `
            <span style="color: var(--text-color-primary); font-weight:600; margin-right:10px;">Welcome, ${data.user.username}</span>
            <button id="logoutBtn">Logout</button>
            <div class="dark-toggle" title="Dark Mode" id="theme-toggle">ðŸŒ™</div>
          `;
          document.getElementById('logoutBtn').addEventListener('click', () => {
            localStorage.removeItem('token');
            location.reload();
          });
          document.getElementById('
