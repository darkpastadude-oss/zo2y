<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Restaurants - Zo2y</title>
  <link rel="stylesheet" href="../style.css">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:sans-serif; }
    body { background: var(--bg-color-primary); color: var(--text-color-primary); transition: background-color 0.3s, color 0.3s; }

    header { padding:20px; text-align:center; }
    header h1 { font-size:2rem; margin-bottom:10px; }

    .search-container { position: relative; max-width: 500px; margin: 0 auto; }
    .search-container input {
      width: 100%;
      padding: 10px 14px;
      border-radius: 6px;
      border: 1px solid var(--nav-shadow);
      background: var(--input-bg);
      color: var(--input-text);
    }

    .suggestions {
      position: absolute;
      background: var(--card-bg);
      border: 1px solid var(--nav-shadow);
      border-radius: 6px;
      margin-top: 4px;
      width: 100%;
      max-height: 200px;
      overflow-y: auto;
      z-index: 1000;
      display: none;
    }
    .suggestions div {
      padding: 8px 12px;
      cursor: pointer;
      color: var(--text-color-primary);
    }
    .suggestions div:hover {
      background: var(--nav-bg);
    }

    .cards { 
      display:grid; 
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); 
      gap:20px; 
      padding:20px; 
      max-width:1100px; 
      margin:30px auto;
    }
    .card {
      background: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: transform 0.2s;
      cursor: pointer;
    }
    .card:hover { transform: translateY(-4px); }
    .card img { width: 100%; height: 180px; object-fit: cover; }
    .card-body { padding: 16px; }
    .card-body h3 { font-size:1.2rem; margin-bottom:6px; }
    .card-body p { font-size:0.95rem; color: var(--text-color-secondary); margin-bottom:8px; }
  </style>
</head>
<body>
  <header>
    <h1>Restaurants</h1>
    <div class="search-container">
      <input type="text" id="searchInput" placeholder="Search restaurants...">
      <div id="suggestions" class="suggestions"></div>
    </div>
  </header>

  <main class="cards" id="restaurants-list"></main>

  <script>
    const restaurants = [
      { name:"Bazooka", category:"Fast Food", desc:"Fried chicken, sandwiches, combos", img:"../images/bazooka.png", link:"bazooka.html" },
      { name:"Mori Sushi", category:"Japanese", desc:"Sushi rolls, sashimi, Asian dishes", img:"../images/mori.png", link:"mori.html" },
      { name:"Mexican Corn", category:"Street Food", desc:"Mexican-style street corn & snacks", img:"../images/mexican.png", link:"mexican.html" },
      { name:"Hameed", category:"Grill", desc:"Grilled meats, Egyptian dishes", img:"../images/hameed.png", link:"hameed.html" },
      { name:"Kilo Kebab", category:"Grill", desc:"Kebab, kofta, Egyptian grill platters", img:"../images/kilo.png", link:"kilo.html" },
      { name:"BRGR", category:"Burgers", desc:"Smash burgers & fries", img:"../images/brgr.png", link:"brgr.html" },
      { name:"Country Hills", category:"Steakhouse", desc:"Steaks, chicken, and sides", img:"../images/country.png", link:"country.html" },
      { name:"Bayouki Rotisserie", category:"Rotisserie", desc:"Chicken rotisserie & sliders", img:"../images/bayoki.png", link:"bayouki.html" }
    ];

    const list = document.getElementById('restaurants-list');
    const searchInput = document.getElementById('searchInput');
    const suggestionsBox = document.getElementById('suggestions');

    function renderRestaurants(data){
      list.innerHTML = data.map(r => `
        <div class="card" onclick="location.href='${r.link}'">
          <img src="${r.img}" alt="${r.name}">
          <div class="card-body">
            <h3>${r.name}</h3>
            <p>${r.category}</p>
            <p>${r.desc}</p>
          </div>
        </div>
      `).join('');
    }

    // Live Suggestions
    searchInput.addEventListener('input', () => {
      const query = searchInput.value.trim().toLowerCase();
      suggestionsBox.innerHTML = '';

      if (!query) {
        suggestionsBox.style.display = 'none';
        renderRestaurants(restaurants);
        return;
      }

      const results = restaurants.filter(r =>
        r.name.toLowerCase().includes(query) ||
        r.category.toLowerCase().includes(query) ||
        r.desc.toLowerCase().includes(query)
      );

      if (results.length === 0) {
        suggestionsBox.innerHTML = '<div>No results</div>';
        suggestionsBox.style.display = 'block';
        renderRestaurants([]);
        return;
      }

      results.forEach(r => {
        const div = document.createElement('div');
        div.textContent = r.name;
        div.onclick = () => window.location.href = r.link;
        suggestionsBox.appendChild(div);
      });

      suggestionsBox.style.display = 'block';
      renderRestaurants(results);
    });

    document.addEventListener('click', e => {
      if (!searchInput.contains(e.target) && !suggestionsBox.contains(e.target)) {
        suggestionsBox.style.display = 'none';
      }
    });

    // Initial render
    renderRestaurants(restaurants);
  </script>

  <script src="../js/themeManager.js"></script>
</body>
</html>
