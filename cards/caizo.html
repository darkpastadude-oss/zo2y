<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Caizo - Authentic Shawarma</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
:root {
  --bg: #fff;
  --text: #333;
  --text2: #666;
  --nav-bg: #f8f9fa;
  --nav-shadow: rgba(0,0,0,0.1);
  --btn-bg: #FF6F00;
  --btn-text: #fff;
  --card: #f8f9fa;
  --input-bg: #fff;
  --input-text: #333;
  --accent: #FF9800;
  --egyptian-blue: #0033A0;
  --egyptian-red: #CE1126;
}
[data-theme="dark"] {
  --bg: #1e2a4a;
  --text: #fff;
  --text2: #cbd5e1;
  --nav-bg: #2d3748;
  --nav-shadow: rgba(255,255,255,0.1);
  --btn-bg: #ff944d;
  --btn-text: #111;
  --card: #2d3748;
  --input-bg: #2d3748;
  --input-text: #fff;
  --accent: #ff944d;
  --egyptian-blue: #4a6bff;
  --egyptian-red: #ff6b6b;
}
body{background-color:var(--bg);color:var(--text);transition:background-color 0.3s ease,color 0.3s ease;line-height:1.6}
.top-stripe{background:#FF9800;height:50px;display:flex;align-items:center;justify-content:space-between;padding:0 20px}
.back-btn,.theme-toggle{background:rgba(255,255,255,0.2);color:white;border:none;padding:8px 16px;border-radius:20px;cursor:pointer;font-size:14px;transition:all 0.3s ease}
.back-btn:hover,.theme-toggle:hover{background:rgba(255,255,255,0.3)}
.back-btn{display:flex;align-items:center;gap:6px}
.back-btn:hover{transform:translateX(-3px)}
.hero{text-align:center;padding:60px 20px 40px;background:linear-gradient(135deg,var(--card) 0%,var(--bg) 100%)}
.logo{width:150px;height:150px;border-radius:50%;object-fit:cover;box-shadow:0 4px 12px rgba(0,0,0,0.15);cursor:pointer;margin-bottom:30px;border:4px solid white}
.hero h1{font-size:2.5rem;margin-bottom:10px;font-weight:700}
.hero p{font-size:1rem;color:var(--text2);margin-bottom:10px;max-width:600px;margin:0 auto}
.rating{color:#FF9800;font-size:1.2rem;margin-bottom:20px;display:flex;align-items:center;justify-content:center;gap:8px}
.btn{display:inline-block;padding:12px 24px;border-radius:8px;background:var(--btn-bg);color:var(--btn-text);text-decoration:none;font-weight:600;margin:6px 4px;transition:transform 0.2s ease,box-shadow 0.2s ease;border:none;cursor:pointer;font-size:1rem}
.btn.secondary{background:var(--nav-bg);color:var(--text);border:1px solid var(--text)}
.btn:hover{transform:scale(1.03);box-shadow:0 6px 18px rgba(255,152,0,0.2)}
.section{max-width:900px;margin:0 auto;padding:40px 20px}
h2{margin-bottom:20px;font-size:1.6rem;position:relative;padding-bottom:10px}
h2::after{content:'';position:absolute;bottom:0;left:0;width:60px;height:3px;background:#FF9800;border-radius:2px}
.hotline{font-size:1.2rem;margin-bottom:20px;display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.hotline a{color:var(--text);text-decoration:none;font-weight:700;background:var(--card);padding:8px 16px;border-radius:20px;transition:all 0.3s ease}
.hotline a:hover{text-decoration:none;background:var(--btn-bg);color:var(--btn-text)}
.branches{display:flex;flex-wrap:wrap;gap:20px;margin-top:20px}
.branch-card{flex:1 1 45%;border:1px solid var(--nav-shadow);border-radius:12px;padding:20px;background:var(--card);transition:all 0.3s ease;box-shadow:0 4px 6px rgba(0,0,0,0.05)}
.branch-card:hover{transform:translateY(-5px);box-shadow:0 8px 15px rgba(0,0,0,0.1)}
.branch-card h3{margin-bottom:10px;font-size:1.2rem}
.branch-card p{font-size:0.95rem;color:var(--text2);margin-bottom:15px}
.branch-card a{font-size:0.9rem;color:var(--text);text-decoration:none;display:flex;align-items:center;gap:5px}
.branch-card a:hover{text-decoration:underline}
.menu-item{display:flex;justify-content:space-between;padding:15px 10px;border-bottom:1px solid var(--nav-shadow);margin-bottom:8px;transition:all 0.3s ease}
.menu-item:hover{background:var(--card);border-radius:8px;padding-left:15px}
.menu-item span{color:var(--text2)}
.menu-item span:last-child{font-weight:600;color:var(--text)}
.menu-description{font-size:0.85rem;color:var(--text2);margin-top:5px;font-style:italic}
.review{border-bottom:1px solid var(--nav-shadow);padding:15px 0}
.review p{margin-bottom:5px;color:var(--text2)}
.review p:first-child{font-weight:600;color:var(--text)}
.review-form{margin-top:30px;display:flex;flex-direction:column;gap:15px}
.review-form input,.review-form textarea{padding:12px;font-size:1rem;width:100%;border:1px solid var(--nav-shadow);border-radius:8px;background-color:var(--input-bg);color:var(--input-text);transition:all 0.3s ease}
.review-form input:focus,.review-form textarea:focus{outline:none;border-color:#FF9800;box-shadow:0 0 0 2px rgba(255,152,0,0.2)}
.review-form button{background:var(--btn-bg);color:var(--btn-text);padding:12px 24px;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:transform 0.2s ease;align-self:flex-start}
.review-form button:hover{transform:scale(1.05)}
footer{text-align:center;padding:40px 20px;border-top:1px solid var(--nav-shadow);font-size:0.9rem;color:var(--text2);margin-top:20px}
@media (max-width:768px){.logo{width:120px;height:120px;margin-bottom:24px}.hero{padding:50px 16px 30px}.hero h1{font-size:2rem}.btn{padding:10px 18px;font-size:0.95rem;margin:4px 2px}.branch-card{flex:1 1 100%}.section{padding:30px 16px}h2{font-size:1.4rem}}@media (max-width:480px){.top-stripe{padding:0 10px}.back-btn,.theme-toggle{padding:6px 12px;font-size:12px}.hero h1{font-size:1.8rem}.hero p{font-size:0.9rem}.hotline{font-size:1rem}}
</style>
  
  <link rel="icon" type="image/png" href="images/logo.png">
</head>
<body>

<div class="top-stripe">
  <button class="back-btn" onclick="window.location.href='../restraunts.html'">‚Üê Back to Restaurants</button>
  <button class="theme-toggle" id="themeToggle">üåô Dark Mode</button>
</div>

<section class="hero">
  <img src="../images/caizo.jpg" alt="Caizo Shawarma" class="logo" onclick="window.location.href='../restraunts.html'">
  <h1>Caizo</h1>
  <p>Authentic Egyptian shawarma with premium ingredients and traditional recipes</p>
  <div class="rating">‚≠ê 4.5/5 (2,300+ reviews)</div>

  <a href="tel:+201050003993" class="btn">Call Hotline: +20 10 50003993</a>
  <a href="https://www.instagram.com/caizoegypt/?hl=en" target="_blank" class="btn secondary">Order Online</a>
</section>

<section class="section">
  <h2>Contact & Branches</h2>
  <div class="hotline">
    <strong>Hotline:</strong> <a href="tel:+201050003993">+20 10 50003993</a>
    <strong>Website:</strong> <a href="https://www.instagram.com/caizoegypt/?hl=en" target="_blank">Instagram</a>
  </div>

  <div class="branches">
    <div class="branch-card">
      <h3>Zayed</h3>
      <p>@theislewest<br>Open: 10:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+Zayed" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>New Giza</h3>
      <p>@thegardensng<br>Open: 10:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+New+Giza" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>New Cairo</h3>
      <p>@myplatz.co<br>Open: 10:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+New+Cairo" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>Maadi</h3>
      <p>@thefieldmaadi<br>Open: 10:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+Maadi" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>Sahel</h3>
      <p>@northed.eg / MV<br>Open: 10:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+Sahel" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>Nasr City</h3>
      <p>Nasr City Branch<br>Open: 10:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+Nasr+City" target="_blank">üìç Get Directions</a>
    </div>
  </div>
</section>

<section class="section menu">
  <h2>Chicken Shawerma</h2>
    
    <div class="menu-item">
      <div>
        <span>Chicken Shawerma Sandwich</span>
        <div class="menu-description">Indulge in the flavors of Egypt with our authentic chicken shawerma sandwich, featuring marinated chicken, pico de gallo, pickles, mint, garlic dip</div>
      </div>
      <span>EGP 60</span>
    </div>
  
    <div class="menu-item">
      <div>
        <span>Chicken Shawerma Dozen</span>
        <div class="menu-description">Savor the exquisite taste of Egypt with our 6-piece chicken shawerma sandwiches, crafted with marinated chicken, pico de gallo, pickles, mint, our signature garlic dip</div>
      </div>
      <span>EGP 355 - 705</span>
    </div>
  
    <div class="menu-item">
      <div>
        <span>Kilo Chicken Shawerma</span>
        <div class="menu-description">Indulge in our plate of authentic chicken shawerma, cooked to perfection. Savor the explosive flavors of pico de gallo salad, mint leaves, garlic dip, pickles as they complement the juicy chicken</div>
      </div>
      <span>EGP 250 - 890</span>
    </div>

  <h2 style="margin-top: 30px;">Meat Shawerma</h2>
  
    <div class="menu-item">
      <div>
        <span>Meat Shawerma Sandwich</span>
        <div class="menu-description">Authentic juicy Egyptian meat shawerma sandwich, in caizer bread, contains meat, parsely, mint, tahini, onions, tomatoes</div>
      </div>
      <span>EGP 66</span>
    </div>
  
    <div class="menu-item">
      <div>
        <span>Meat Shawerma Dozen</span>
        <div class="menu-description">Authentic juicy Egyptian meat shawerma sandwiches, in caizer bread, contains meat, parsely, mint, tahini, onions, tomatoes</div>
      </div>
      <span>EGP 395 - 785</span>
    </div>
  
    <div class="menu-item">
      <div>
        <span>Blend Meat Shawerma</span>
        <div class="menu-description">Indulge in our plate of authentic chicken shawerma, cooked to perfection, savor the explosive flavors of pico de gallo salad, mint leaves, garlic dip, pickles as they complement the juicy chicken</div>
      </div>
      <span>EGP 505 - 990</span>
    </div>
    
    <div class="menu-item">
      <div>
        <span>Plain Meat Shawerma</span>
        <div class="menu-description">Authentic Egyptian meat shawerma, contains meat, come with parsley, mint, tahini, onions, tomatoes as sides</div>
      </div>
      <span>EGP 300 - 1100</span>
    </div>

  <h2 style="margin-top: 30px;">Hawawshi</h2>

    <div class="menu-item">
      <div>
        <span>Hawawshi</span>
        <div class="menu-description">Experience the true flavors of Egypt with a mouthwatering hawawshi sandwich, crafted with care, served in traditional baladi bread</div>
      </div>
      <span>EGP 100</span>
    </div>

    <div class="menu-item">
      <div>
        <span>6 Hawawshi Pack</span>
        <div class="menu-description">Experience the true flavors of Egypt with 6 X mouthwatering Hawawshi sandwiches, crafted with care, served in traditional baladi bread</div>
      </div>
      <span>EGP 590</span>
    </div>

    <div class="menu-item">
      <div>
        <span>12 Hawawshi Pack</span>
        <div class="menu-description">Experience the true flavors of Egypt with 12 X mouthwatering hawawshi sandwiches, crafted with care, served in traditional baladi bread</div>
      </div>
      <span>EGP 1165</span>
    </div>

  <h2 style="margin-top: 30px;">Side Dishes</h2>

    <div class="menu-item">
      <div>
        <span>Pickles</span>
      </div>
      <span>EGP 16</span>
    </div>

    <div class="menu-item">
      <div>
        <span>Big Ali Sauce</span>
      </div>
      <span>EGP 18</span>
    </div>

    <div class="menu-item">
      <div>
        <span>Tehina</span>
      </div>
      <span>EGP 20</span>
    </div>

    <div class="menu-item">
      <div>
        <span>Garlic Dip</span>
      </div>
      <span>EGP 20</span>
    </div>

    <div class="menu-item">
      <div>
        <span>Fries</span>
      </div>
      <span>EGP 50</span>
    </div>

  <h2 style="margin-top: 30px;">Drinks</h2>

    <div class="menu-item">
      <div>
        <span>V-Cola</span>
      </div>
      <span>EGP 26</span>
    </div>

    <div class="menu-item">
      <div>
        <span>V-Seven Lemon Mint</span>
      </div>
      <span>EGP 26</span>
    </div>

    <div class="menu-item">
      <div>
        <span>V-Seven Pineapple</span>
      </div>
      <span>EGP 26</span>
    </div>

    <div class="menu-item">
      <div>
        <span>Mango</span>
      </div>
      <span>EGP 52</span>
    </div>

    <div class="menu-item">
      <div>
        <span>Small Mineral Water</span>
      </div>
      <span>EGP 16</span>
    </div>

    <div class="menu-item">
      <div>
        <span>Coke Diet</span>
      </div>
      <span>EGP 26</span>
    </div>

    <div class="menu-item">
      <div>
        <span>Sobia</span>
      </div>
      <span>EGP 48</span>
    </div>
  
  <a href="https://www.instagram.com/caizoegypt/?hl=en" target="_blank" class="btn secondary" style="margin-top: 20px;">View Full Menu</a>
</section>

<section class="section reviews">
  <h2>Customer Reviews</h2>
  <div id="reviews-list">
    <div class="review">
      <p><strong>Ahmed S.</strong></p>
      <p>The best shawarma in town! The chicken shawerma sandwich is perfectly seasoned and always fresh. Highly recommend!</p>
    </div>
    <div class="review">
      <p><strong>Nour H.</strong></p>
      <p>Their meat shawerma is incredible! The blend of spices is authentic and the bread is always fresh. My go-to spot!</p>
    </div>
    <div class="review">
      <p><strong>Karim M.</strong></p>
      <p>The Hawawshi is a must-try! Perfectly spiced and cooked to perfection. The dozen pack is perfect for gatherings.</p>
    </div>
    <div class="review">
      <p><strong>Layla A.</strong></p>
      <p>Consistently delicious! The garlic dip is amazing and the service is always fast. My favorite shawarma place!</p>
    </div>
  </div>
  
  <h3 style="margin-top: 30px; font-size: 1.2rem;">Add Your Review</h3>
  <form class="review-form" id="review-form">
    <input type="text" placeholder="Your Name" id="reviewer" required>
    <textarea placeholder="Write your review..." id="review-text" rows="4" required></textarea>
    <button type="submit">Submit Review</button>
  </form>
</section>

<footer>
  <p>¬© 2025 Zo2y. All rights reserved.</p>
  <p style="margin-top: 10px; font-size: 0.8rem;">Caizo - Authentic Egyptian Shawarma</p>
  <p style="margin-top: 5px; font-size: 0.7rem; color: var(--text2);">Delivery Areas: Zayed, New Giza, New Cairo, Maadi, Sahel, Nasr City</p>
</footer>

<script>
// Theme toggle functionality
const themeToggle = document.getElementById('themeToggle');
function applyTheme(theme) {
  document.documentElement.setAttribute('data-theme', theme);
  themeToggle.textContent = theme === 'dark' ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
  localStorage.setItem('restaurant-theme', theme);
}
function toggleTheme() {
  const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
  const newTheme = currentTheme === 'light' ? 'dark' : 'light';
  applyTheme(newTheme);
}
function initializeTheme() {
  const savedTheme = localStorage.getItem('restaurant-theme');
  if (savedTheme) {
    applyTheme(savedTheme);
  } else {
    applyTheme(window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
  }
}
themeToggle.addEventListener('click', toggleTheme);
initializeTheme();

// Review form functionality
document.getElementById('review-form').addEventListener('submit', function(e) {
  e.preventDefault();
  const name = document.getElementById('reviewer').value;
  const text = document.getElementById('review-text').value;
  
  if (name && text) {
    const review = document.createElement('div');
    review.className = 'review';
    review.innerHTML = `
      <p><strong>${name}</strong></p>
      <p>${text}</p>
    `;
    
    document.getElementById('reviews-list').prepend(review);
    
    // Reset form
    document.getElementById('review-form').reset();
    
    // Show success message
    alert('Thank you for your review!');
  }
});
</script>

<!-- Load Supabase First -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- List Manager Button -->
<script>
// Wait for page to load
window.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ Page loaded, initializing list manager...');
    
    // Initialize Supabase
    const supabaseUrl = "https://gfkhjbztayjyojsgdpgk.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdma2hqYnp0YXlqeW9qc2dkcGdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwOTYyNjQsImV4cCI6MjA3NTY3MjI2NH0.WUb2yDAwCeokdpWCPeH13FE8NhWF6G8e6ivTsgu6b2s";
    
    const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);
    window.supabase = supabase;
    
    console.log('‚úÖ Supabase initialized');
    
    // List Manager Class
    class RestaurantListManager {
        constructor() {
            this.supabase = supabase;
            this.restaurantId = this.getRestaurantIdFromSlug();
            this.userLists = [];
            this.customLists = [];
            this.init();
        }

        getRestaurantIdFromSlug() {
            const path = window.location.pathname;
            const slug = path.split('/').pop().replace('.html', '');
            const slugToId = {
                'mori':1,'kilo':2,'hameed':3,'bazooka':4,'mexican':5,'chikin':6,'vasko':7,
                'secondcup':8,'station':9,'brgr':10,'country':11,'bayoki':12,'maine':13,
                'barbar':14,'labash':15,'pickl':16,'akleh':17,'howlin':18,'sauce':19,
                'papa':20,'qasr':21,'heart':22,'what':23,'buffalo':24,'mince':25,'88':26,
                'kansas':27,'ward':28,'willys':29,'butchers':30,'hashville':31,'dawgs':32,
                'holmes':33,'ribs':34,'peking':35,'wok':36,'daddy':37,'husk':38,'crispy':39,
                'lord':40,'chez':41,'mario':42,'crumbs':43,'man':44,'pasta':45,'crave':46
            };
            return slugToId[slug] || null;
        }

        async init() {
            await this.checkAuth();
            if (this.currentUser) {
                await this.loadUserLists();
            }
            this.injectListMenu();
        }

        async checkAuth() {
            try {
                const { data: { session } } = await this.supabase.auth.getSession();
                this.currentUser = session?.user || null;
            } catch (error) {
                console.error('Auth error:', error);
                this.currentUser = null;
            }
        }

        async loadUserLists() {
            try {
                const { data: lists } = await this.supabase
                    .from('lists').select('*').eq('user_id', this.currentUser.id);
                this.userLists = lists || [];
                
                // Separate custom lists from default lists
                this.customLists = this.userLists.filter(list => 
                    !['Favorites', 'Visited', 'Want to Go'].includes(list.title)
                );
            } catch (error) {
                console.error('Error loading lists:', error);
                this.userLists = [];
                this.customLists = [];
            }
        }

        injectListMenu() {
            // Create the floating action button
            const fab = document.createElement('div');
            fab.className = 'list-manager-fab';
            fab.innerHTML = `
                <div class="fab-main">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14M5 12h14"/>
                    </svg>
                </div>
                <div class="fab-tooltip">Save to Lists</div>
            `;
            
            // Add FAB styles
            const styles = `
                .list-manager-fab {
                    position: fixed !important;
                    bottom: 30px !important;
                    right: 30px !important;
                    z-index: 10000 !important;
                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
                }
                
                .fab-main {
                    width: 60px !important;
                    height: 60px !important;
                    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%) !important;
                    border-radius: 50% !important;
                    display: flex !important;
                    align-items: center !important;
                    justify-content: center !important;
                    cursor: pointer !important;
                    box-shadow: 0 8px 25px rgba(245, 158, 11, 0.4) !important;
                    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
                    border: none !important;
                    color: white !important;
                    position: relative !important;
                    overflow: hidden !important;
                }
                
                .fab-main::before {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: -100%;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
                    transition: left 0.5s;
                }
                
                .fab-main:hover::before {
                    left: 100%;
                }
                
                .fab-main:hover {
                    transform: scale(1.1) rotate(90deg) !important;
                    box-shadow: 0 12px 35px rgba(245, 158, 11, 0.6) !important;
                }
                
                .fab-main:active {
                    transform: scale(0.95) !important;
                }
                
                .fab-tooltip {
                    position: absolute !important;
                    bottom: 70px !important;
                    right: 0 !important;
                    background: #1e293b !important;
                    color: white !important;
                    padding: 8px 12px !important;
                    border-radius: 6px !important;
                    font-size: 12px !important;
                    font-weight: 500 !important;
                    white-space: nowrap !important;
                    opacity: 0 !important;
                    transform: translateY(10px) !important;
                    transition: all 0.3s ease !important;
                    pointer-events: none !important;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.3) !important;
                }
                
                .fab-main:hover + .fab-tooltip {
                    opacity: 1 !important;
                    transform: translateY(0) !important;
                }
                
                .list-dropdown {
                    position: fixed;
                    bottom: 100px;
                    right: 30px;
                    background: #0f172a;
                    border: 1px solid #334155;
                    border-radius: 16px;
                    padding: 20px;
                    min-width: 320px;
                    max-width: 400px;
                    display: none;
                    z-index: 10000;
                    box-shadow: 0 20px 60px rgba(0,0,0,0.4);
                    backdrop-filter: blur(20px);
                    transform-origin: bottom right;
                    animation: dropdownSlide 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                }
                
                @keyframes dropdownSlide {
                    from {
                        opacity: 0;
                        transform: scale(0.8) translateY(20px);
                    }
                    to {
                        opacity: 1;
                        transform: scale(1) translateY(0);
                    }
                }
                
                .list-dropdown.show {
                    display: block !important;
                }
                
                .dropdown-header {
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    margin-bottom: 20px;
                    padding-bottom: 15px;
                    border-bottom: 1px solid #334155;
                }
                
                .dropdown-title {
                    font-size: 18px;
                    font-weight: 700;
                    color: #f59e0b;
                    margin: 0;
                }
                
                .close-btn {
                    background: none;
                    border: none;
                    color: #64748b;
                    cursor: pointer;
                    padding: 8px;
                    border-radius: 8px;
                    transition: all 0.2s ease;
                }
                
                .close-btn:hover {
                    background: #1e293b;
                    color: #f59e0b;
                }
                
                .list-section {
                    margin-bottom: 20px;
                }
                
                .list-section-title {
                    font-size: 11px;
                    color: #94a3b8;
                    text-transform: uppercase;
                    font-weight: 600;
                    margin-bottom: 12px;
                    letter-spacing: 0.5px;
                    display: flex;
                    align-items: center;
                    gap: 8px;
                }
                
                .list-section-title::after {
                    content: '';
                    flex: 1;
                    height: 1px;
                    background: #334155;
                    margin-left: 8px;
                }
                
                .list-item { 
                    display: flex; 
                    align-items: center; 
                    gap: 12px; 
                    padding: 12px 10px; 
                    cursor: pointer; 
                    border-radius: 10px;
                    transition: all 0.2s ease;
                    margin-bottom: 4px;
                }
                
                .list-item:hover { 
                    background: rgba(245, 158, 11, 0.1); 
                    transform: translateX(4px);
                }
                
                .list-checkbox { 
                    width: 20px; 
                    height: 20px; 
                    border: 2px solid #475569;
                    border-radius: 6px; 
                    display: flex; 
                    align-items: center; 
                    justify-content: center; 
                    flex-shrink: 0;
                    transition: all 0.2s ease;
                    position: relative;
                }
                
                .list-checkbox.checked { 
                    background: #f59e0b; 
                    border-color: #f59e0b;
                    animation: checkPop 0.3s ease;
                }
                
                @keyframes checkPop {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.2); }
                    100% { transform: scale(1); }
                }
                
                .list-checkbox.checked::after { 
                    content: "‚úì"; 
                    color: #0f172a; 
                    font-size: 12px; 
                    font-weight: bold; 
                }
                
                .list-item-text {
                    flex: 1;
                    font-size: 14px;
                    font-weight: 500;
                    color: #e2e8f0;
                }
                
                .list-item:hover .list-item-text {
                    color: #f59e0b;
                }
                
                .new-list-section {
                    border-top: 1px solid #334155;
                    padding-top: 20px;
                    margin-top: 15px;
                }
                
                .new-list-input { 
                    width: 100%; 
                    padding: 12px 16px; 
                    background: #1e293b;
                    border: 1px solid #475569; 
                    border-radius: 10px; 
                    color: white; 
                    margin-bottom: 12px;
                    font-size: 14px;
                    transition: all 0.2s ease;
                }
                
                .new-list-input:focus {
                    outline: none;
                    border-color: #f59e0b;
                    box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
                }
                
                .add-list-btn { 
                    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); 
                    color: #0f172a; 
                    border: none;
                    padding: 12px 20px; 
                    border-radius: 10px; 
                    cursor: pointer; 
                    font-weight: 600; 
                    width: 100%; 
                    font-size: 14px;
                    transition: all 0.2s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                }
                
                .add-list-btn:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
                }
                
                .add-list-btn:active {
                    transform: translateY(0);
                }
                
                .list-divider {
                    height: 1px;
                    background: linear-gradient(90deg, transparent, #334155, transparent);
                    margin: 16px 0;
                }
                
                .empty-custom-lists {
                    text-align: center;
                    color: #64748b;
                    font-size: 13px;
                    padding: 20px;
                    font-style: italic;
                }
                
                .auth-prompt {
                    text-align: center;
                    padding: 30px 20px;
                    color: #94a3b8;
                }
                
                .auth-prompt .icon {
                    font-size: 48px;
                    margin-bottom: 12px;
                    opacity: 0.5;
                }
                
                .auth-prompt .text {
                    font-size: 14px;
                    margin-bottom: 16px;
                }
                
                .login-btn {
                    background: #f59e0b;
                    color: #0f172a;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 8px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s ease;
                }
                
                .login-btn:hover {
                    background: #ffb84d;
                }
                
                /* Pulse animation for new lists */
                @keyframes pulseGlow {
                    0% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.7); }
                    70% { box-shadow: 0 0 0 10px rgba(245, 158, 11, 0); }
                    100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0); }
                }
                
                .pulse {
                    animation: pulseGlow 2s infinite;
                }
            `;
            
            const styleSheet = document.createElement('style');
            styleSheet.textContent = styles;
            document.head.appendChild(styleSheet);
            
            // Create dropdown
            const dropdown = document.createElement('div');
            dropdown.className = 'list-dropdown';
            
            // FAB click handler
            fab.addEventListener('click', (e) => {
                e.stopPropagation();
                dropdown.classList.toggle('show');
                if (dropdown.classList.contains('show')) {
                    this.updateDropdown(dropdown);
                    // Add pulse animation to FAB when dropdown is open
                    fab.querySelector('.fab-main').classList.add('pulse');
                } else {
                    fab.querySelector('.fab-main').classList.remove('pulse');
                }
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', () => {
                dropdown.classList.remove('show');
                fab.querySelector('.fab-main').classList.remove('pulse');
            });
            
            dropdown.addEventListener('click', (e) => e.stopPropagation());
            
            // Add to page
            document.body.appendChild(fab);
            document.body.appendChild(dropdown);
            
            console.log('‚úÖ List Manager FAB Added!');
        }

        async updateDropdown(dropdown) {
            dropdown.innerHTML = `
                <div class="dropdown-header">
                    <h3 class="dropdown-title">üí´ Save to Lists</h3>
                    <button class="close-btn" onclick="this.closest('.list-dropdown').classList.remove('show')">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 6L6 18M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            `;

            if (!this.currentUser) {
                dropdown.innerHTML += `
                    <div class="auth-prompt">
                        <div class="icon">üîê</div>
                        <div class="text">Sign in to save restaurants to your lists</div>
                        <button class="login-btn" onclick="window.location.href='../login.html'">
                            Sign In
                        </button>
                    </div>
                `;
                return;
            }

            // Quick Actions Section
            const quickSection = document.createElement('div');
            quickSection.className = 'list-section';
            quickSection.innerHTML = '<div class="list-section-title">üåü Quick Actions</div>';
            
            const quickLists = [
                { id: 'favorites', name: '‚ù§Ô∏è Favorites', icon: '‚ù§Ô∏è' },
                { id: 'wantToGo', name: 'üìç Want to Go', icon: 'üìç' },
                { id: 'visited', name: 'üçΩÔ∏è Visited', icon: 'üçΩÔ∏è' }
            ];

            for (const list of quickLists) {
                const isInList = await this.checkIfInList(list.id);
                const item = document.createElement('div');
                item.className = 'list-item';
                item.innerHTML = `
                    <div class="list-checkbox ${isInList ? 'checked' : ''}"></div>
                    <span class="list-item-text">${list.name}</span>
                `;
                item.onclick = () => this.toggleList(list.id);
                quickSection.appendChild(item);
            }
            
            dropdown.appendChild(quickSection);

            // Custom Lists Section
            if (this.customLists.length > 0) {
                const divider = document.createElement('div');
                divider.className = 'list-divider';
                dropdown.appendChild(divider);

                const customSection = document.createElement('div');
                customSection.className = 'list-section';
                customSection.innerHTML = '<div class="list-section-title">üìÅ Your Collections</div>';

                for (const list of this.customLists) {
                    const isInList = await this.checkIfCustomList(list.id);
                    const item = document.createElement('div');
                    item.className = 'list-item';
                    item.innerHTML = `
                        <div class="list-checkbox ${isInList ? 'checked' : ''}"></div>
                        <span class="list-item-text">${list.title}</span>
                    `;
                    item.onclick = () => this.toggleCustomList(list.id);
                    customSection.appendChild(item);
                }
                
                dropdown.appendChild(customSection);
            } else {
                const divider = document.createElement('div');
                divider.className = 'list-divider';
                dropdown.appendChild(divider);
                
                const emptySection = document.createElement('div');
                emptySection.className = 'empty-custom-lists';
                emptySection.innerHTML = 'No custom lists yet. Create your first one below! ‚ú®';
                dropdown.appendChild(emptySection);
            }

            // Create New List Section
            const newDiv = document.createElement('div');
            newDiv.className = 'new-list-section';
            newDiv.innerHTML = `
                <div class="list-section-title">üÜï Create New</div>
                <input type="text" class="new-list-input" placeholder="What should we call your new list?" id="newListName">
                <button class="add-list-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 5v14M5 12h14"/>
                    </svg>
                    Create Custom List
                </button>
            `;
            
            const input = newDiv.querySelector('input');
            const button = newDiv.querySelector('button');
            
            button.onclick = () => this.createNewList();
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    this.createNewList();
                }
            });
            
            dropdown.appendChild(newDiv);
        }

        async checkIfInList(listType) {
            if (!this.currentUser || !this.restaurantId) return false;
            const title = { favorites: 'Favorites', visited: 'Visited', wantToGo: 'Want to Go' }[listType];
            const { data: list } = await this.supabase.from('lists').select('id')
                .eq('user_id', this.currentUser.id).eq('title', title).single();
            if (!list) return false;
            const { data: listRestaurants } = await this.supabase.from('lists_restraunts')
                .select('id').eq('list_id', list.id).eq('restraunt_id', this.restaurantId).single();
            return !!listRestaurants;
        }

        async checkIfCustomList(listId) {
            if (!this.currentUser || !this.restaurantId) return false;
            const { data: listRestaurants } = await this.supabase.from('lists_restraunts')
                .select('id').eq('list_id', listId).eq('restraunt_id', this.restaurantId).single();
            return !!listRestaurants;
        }

        async toggleList(listType) {
            if (!this.currentUser || !this.restaurantId) {
                this.showNotification('Please log in to use lists', 'warning');
                return;
            }
            
            const title = { favorites: 'Favorites', visited: 'Visited', wantToGo: 'Want to Go' }[listType];
            let { data: list } = await this.supabase.from('lists').select('id')
                .eq('user_id', this.currentUser.id).eq('title', title).single();
                
            if (!list) {
                const { data: newList } = await this.supabase.from('lists')
                    .insert([{ user_id: this.currentUser.id, title: title }]).select().single();
                list = newList;
            }
            
            const isInList = await this.checkIfInList(listType);
            if (isInList) {
                await this.supabase.from('lists_restraunts').delete()
                    .match({ list_id: list.id, restraunt_id: this.restaurantId });
                this.showNotification(`Removed from ${title}`, 'info');
            } else {
                await this.supabase.from('lists_restraunts').insert([
                    { list_id: list.id, restraunt_id: this.restaurantId }
                ]);
                this.showNotification(`Added to ${title} ‚úÖ`, 'success');
            }
            
            this.updateDropdown(document.querySelector('.list-dropdown'));
        }

        async toggleCustomList(listId) {
            if (!this.currentUser || !this.restaurantId) {
                this.showNotification('Please log in to use lists', 'warning');
                return;
            }
            
            const list = this.customLists.find(l => l.id === listId);
            const isInList = await this.checkIfCustomList(listId);
            
            if (isInList) {
                await this.supabase.from('lists_restraunts').delete()
                    .match({ list_id: listId, restraunt_id: this.restaurantId });
                this.showNotification(`Removed from ${list.title}`, 'info');
            } else {
                await this.supabase.from('lists_restraunts').insert([
                    { list_id: listId, restraunt_id: this.restaurantId }
                ]);
                this.showNotification(`Added to ${list.title} ‚úÖ`, 'success');
            }
            
            this.updateDropdown(document.querySelector('.list-dropdown'));
        }

        async createNewList() {
            const input = document.getElementById('newListName');
            const name = input.value.trim();
            
            if (!name) {
                this.showNotification('Please enter a list name', 'warning');
                return;
            }

            if (!this.currentUser) {
                this.showNotification('Please log in to create lists', 'warning');
                return;
            }

            try {
                const { data: newList } = await this.supabase.from('lists')
                    .insert([{ user_id: this.currentUser.id, title: name }]).select().single();
                
                if (newList) {
                    this.customLists.push(newList);
                    input.value = '';
                    this.showNotification(`‚ú® "${name}" created!`, 'success');
                    this.updateDropdown(document.querySelector('.list-dropdown'));
                }
            } catch (error) {
                this.showNotification('Error creating list: ' + error.message, 'error');
            }
        }

        showNotification(message, type = 'info') {
            const colors = {
                success: '#10b981',
                error: '#ef4444',
                warning: '#f59e0b',
                info: '#3b82f6'
            };
            
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 30px;
                right: 30px;
                background: ${colors[type] || colors.info};
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                z-index: 10001;
                font-weight: 600;
                box-shadow: 0 8px 25px rgba(0,0,0,0.3);
                transform: translateX(100%);
                transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                max-width: 300px;
                word-wrap: break-word;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 10);
            
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    notification.remove();
                }, 400);
            }, 3000);
        }
    }

    // Initialize the list manager
    setTimeout(() => {
        new RestaurantListManager();
    }, 1000);
    
});
</script>
</body>
</html>