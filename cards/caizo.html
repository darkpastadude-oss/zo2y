<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Caizo - Authentic Shawarma</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
:root {
  --bg: #fff;
  --text: #333;
  --text2: #666;
  --nav-bg: #f8f9fa;
  --nav-shadow: rgba(0,0,0,0.1);
  --btn-bg: #FF6F00;
  --btn-text: #fff;
  --card: #f8f9fa;
  --input-bg: #fff;
  --input-text: #333;
  --accent: #FF9800;
  --egyptian-blue: #0033A0;
  --egyptian-red: #CE1126;
}
[data-theme="dark"] {
  --bg: #1e2a4a;
  --text: #fff;
  --text2: #cbd5e1;
  --nav-bg: #2d3748;
  --nav-shadow: rgba(255,255,255,0.1);
  --btn-bg: #ff944d;
  --btn-text: #111;
  --card: #2d3748;
  --input-bg: #2d3748;
  --input-text: #fff;
  --accent: #ff944d;
  --egyptian-blue: #4a6bff;
  --egyptian-red: #ff6b6b;
}
body{background-color:var(--bg);color:var(--text);transition:background-color 0.3s ease,color 0.3s ease;line-height:1.6}
.top-stripe{background:#FF9800;height:50px;display:flex;align-items:center;justify-content:space-between;padding:0 20px;position:sticky;top:0;z-index:100}
.back-btn,.theme-toggle{background:rgba(255,255,255,0.2);color:white;border:none;padding:8px 16px;border-radius:20px;cursor:pointer;font-size:14px;transition:all 0.3s ease}
.back-btn:hover,.theme-toggle:hover{background:rgba(255,255,255,0.3)}
.back-btn{display:flex;align-items:center;gap:6px}
.back-btn:hover{transform:translateX(-3px)}
.hero{text-align:center;padding:60px 20px 40px;background:linear-gradient(135deg,var(--card) 0%,var(--bg) 100%);position:relative}
.hero::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg, rgba(255,152,0,0.05) 0%, transparent 50%);pointer-events:none}
.logo{width:150px;height:150px;border-radius:50%;object-fit:cover;box-shadow:0 4px 12px rgba(0,0,0,0.15);cursor:pointer;margin-bottom:30px;border:4px solid white;position:relative;z-index:1}
.hero h1{font-size:2.5rem;margin-bottom:10px;font-weight:700;position:relative;z-index:1}
.hero p{font-size:1rem;color:var(--text2);margin-bottom:10px;max-width:600px;margin:0 auto;position:relative;z-index:1}
.rating{color:#FF9800;font-size:1.2rem;margin-bottom:20px;display:flex;align-items:center;justify-content:center;gap:8px;position:relative;z-index:1}
.btn{display:inline-block;padding:12px 24px;border-radius:8px;background:var(--btn-bg);color:var(--btn-text);text-decoration:none;font-weight:600;margin:6px 4px;transition:transform 0.2s ease,box-shadow 0.2s ease;border:none;cursor:pointer;font-size:1rem;position:relative;z-index:1}
.btn.secondary{background:var(--nav-bg);color:var(--text);border:1px solid var(--text)}
.btn:hover{transform:scale(1.03);box-shadow:0 6px 18px rgba(255,152,0,0.2)}
.section{max-width:900px;margin:0 auto;padding:40px 20px}
h2{margin-bottom:20px;font-size:1.6rem;position:relative;padding-bottom:10px}
h2::after{content:'';position:absolute;bottom:0;left:0;width:60px;height:3px;background:#FF9800;border-radius:2px}
.hotline{font-size:1.2rem;margin-bottom:20px;display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.hotline a{color:var(--text);text-decoration:none;font-weight:700;background:var(--card);padding:8px 16px;border-radius:20px;transition:all 0.3s ease}
.hotline a:hover{text-decoration:none;background:var(--btn-bg);color:var(--btn-text)}
.branches{display:flex;flex-wrap:wrap;gap:20px;margin-top:20px}
.branch-card{flex:1 1 45%;border:1px solid var(--nav-shadow);border-radius:12px;padding:20px;background:var(--card);transition:all 0.3s ease;box-shadow:0 4px 6px rgba(0,0,0,0.05)}
.branch-card:hover{transform:translateY(-5px);box-shadow:0 8px 15px rgba(0,0,0,0.1)}
.branch-card h3{margin-bottom:10px;font-size:1.2rem}
.branch-card p{font-size:0.95rem;color:var(--text2);margin-bottom:15px}
.branch-card a{font-size:0.9rem;color:var(--text);text-decoration:none;display:flex;align-items:center;gap:5px}
.branch-card a:hover{text-decoration:underline}
.menu-categories{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}
.menu-category-btn{background:var(--card);border:1px solid var(--nav-shadow);padding:8px 16px;border-radius:20px;cursor:pointer;transition:all 0.3s ease;font-size:0.9rem}
.menu-category-btn.active,.menu-category-btn:hover{background:var(--btn-bg);color:var(--btn-text)}
.menu-item{display:flex;justify-content:space-between;padding:15px 10px;border-bottom:1px solid var(--nav-shadow);margin-bottom:8px;transition:all 0.3s ease}
.menu-item:hover{background:var(--card);border-radius:8px;padding-left:15px}
.menu-item span{color:var(--text2)}
.menu-item span:last-child{font-weight:600;color:var(--text)}
.menu-item-description{font-size:0.85rem;color:var(--text2);margin-top:5px;width:100%;flex-basis:100%}
.review{border-bottom:1px solid var(--nav-shadow);padding:15px 0}
.review p{margin-bottom:5px;color:var(--text2)}
.review p:first-child{font-weight:600;color:var(--text)}
.review-form{margin-top:30px;display:flex;flex-direction:column;gap:15px}
.review-form input,.review-form textarea{padding:12px;font-size:1rem;width:100%;border:1px solid var(--nav-shadow);border-radius:8px;background-color:var(--input-bg);color:var(--input-text);transition:all 0.3s ease}
.review-form input:focus,.review-form textarea:focus{outline:none;border-color:#FF9800;box-shadow:0 0 0 2px rgba(255,152,0,0.2)}
.review-form button{background:var(--btn-bg);color:var(--btn-text);padding:12px 24px;border:none;border-radius:8px;cursor:pointer;font-weight:600;transition:transform 0.2s ease;align-self:flex-start}
.review-form button:hover{transform:scale(1.05)}
footer{text-align:center;padding:40px 20px;border-top:1px solid var(--nav-shadow);font-size:0.9rem;color:var(--text2);margin-top:20px}
.branch-filter{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}
.branch-filter-btn{background:var(--card);border:1px solid var(--nav-shadow);padding:8px 16px;border-radius:20px;cursor:pointer;transition:all 0.3s ease}
.branch-filter-btn.active,.branch-filter-btn:hover{background:var(--btn-bg);color:var(--btn-text)}
.hidden{display:none}
.popular-badge{background:#FF9800;color:white;font-size:0.7rem;padding:2px 8px;border-radius:10px;margin-left:8px;font-weight:600}
@media (max-width:768px){.logo{width:120px;height:120px;margin-bottom:24px}.hero{padding:50px 16px 30px}.hero h1{font-size:2rem}.btn{padding:10px 18px;font-size:0.95rem;margin:4px 2px}.branch-card{flex:1 1 100%}.section{padding:30px 16px}h2{font-size:1.4rem}}@media (max-width:480px){.top-stripe{padding:0 10px}.back-btn,.theme-toggle{padding:6px 12px;font-size:12px}.hero h1{font-size:1.8rem}.hero p{font-size:0.9rem}.hotline{font-size:1rem}}

/* Enhanced Review System Styles */
.reviews-stats {
  background: var(--card);
  padding: 20px;
  border-radius: 12px;
  margin-bottom: 30px;
  border: 1px solid var(--nav-shadow);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 20px;
  margin-bottom: 15px;
}

.stat-item {
  text-align: center;
}

.stat-value {
  font-size: 2rem;
  font-weight: 700;
  color: var(--accent);
  line-height: 1;
}

.stat-label {
  font-size: 0.85rem;
  color: var(--text2);
  margin-top: 5px;
}

.rating-breakdown {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin-top: 15px;
}

.rating-row {
  display: flex;
  align-items: center;
  gap: 10px;
}

.rating-stars {
  color: #FF9800;
  font-size: 0.9rem;
  width: 60px;
}

.rating-bar {
  flex: 1;
  height: 8px;
  background: var(--nav-shadow);
  border-radius: 4px;
  overflow: hidden;
}

.rating-fill {
  height: 100%;
  background: #FF9800;
  border-radius: 4px;
  transition: width 0.5s ease;
}

.rating-count {
  font-size: 0.8rem;
  color: var(--text2);
  width: 30px;
  text-align: right;
}

.reviews-container {
  margin-bottom: 40px;
}

.review-card {
  background: var(--card);
  border: 1px solid var(--nav-shadow);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 16px;
  transition: all 0.3s ease;
}

.review-card:hover {
  border-color: var(--accent);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.review-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 12px;
  gap: 15px;
}

.reviewer-info {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
}

.reviewer-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), #FF6F00);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 600;
  font-size: 0.9rem;
}

.reviewer-details {
  flex: 1;
}

.reviewer-name {
  font-weight: 600;
  color: var(--text);
  margin-bottom: 2px;
}

.review-date {
  font-size: 0.8rem;
  color: var(--text2);
}

.review-rating {
  color: #FF9800;
  font-size: 1.1rem;
  white-space: nowrap;
}

.review-actions {
  display: flex;
  gap: 8px;
}

.review-edit, .review-delete {
  background: none;
  border: 1px solid var(--nav-shadow);
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 0.8rem;
  cursor: pointer;
  transition: all 0.2s ease;
  color: var(--text2);
}

.review-edit:hover {
  background: var(--accent);
  color: white;
  border-color: var(--accent);
}

.review-delete:hover {
  background: #ef4444;
  color: white;
  border-color: #ef4444;
}

.review-comment {
  color: var(--text);
  line-height: 1.5;
  margin-bottom: 0;
}

.review-form-section {
  background: var(--card);
  padding: 25px;
  border-radius: 12px;
  border: 1px solid var(--nav-shadow);
}

.rating-input {
  margin-bottom: 20px;
}

.rating-input label {
  display: block;
  margin-bottom: 8px;
  font-weight: 600;
  color: var(--text);
}

.stars-rating {
  display: flex;
  gap: 4px;
  margin-bottom: 8px;
}

.star {
  font-size: 2rem;
  color: #d1d5db;
  cursor: pointer;
  transition: all 0.2s ease;
  line-height: 1;
}

.star:hover,
.star.active {
  color: #FF9800;
  transform: scale(1.1);
}

.rating-text {
  font-size: 0.9rem;
  color: var(--text2);
  font-style: italic;
}

.comment-input {
  margin-bottom: 20px;
}

.comment-input textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid var(--nav-shadow);
  border-radius: 8px;
  background: var(--input-bg);
  color: var(--input-text);
  font-size: 0.95rem;
  resize: vertical;
  transition: all 0.3s ease;
}

.comment-input textarea:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.1);
}

.char-count {
  text-align: right;
  font-size: 0.8rem;
  color: var(--text2);
  margin-top: 4px;
}

.form-actions {
  display: flex;
  gap: 12px;
  align-items: center;
}

.submit-review-btn {
  background: var(--btn-bg);
  color: var(--btn-text);
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  min-width: 120px;
}

.submit-review-btn:hover:not(:disabled) {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 152, 0, 0.3);
}

.submit-review-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: none;
}

.cancel-edit-btn {
  background: var(--nav-bg);
  color: var(--text);
  border: 1px solid var(--nav-shadow);
}

.auth-prompt {
  text-align: center;
  padding: 30px 20px;
  color: var(--text2);
}

.auth-icon {
  font-size: 3rem;
  margin-bottom: 15px;
  opacity: 0.7;
}

.auth-link {
  color: var(--accent);
  text-decoration: none;
  font-weight: 600;
}

.auth-link:hover {
  text-decoration: underline;
}

.reviews-loading, .reviews-empty {
  text-align: center;
  padding: 40px 20px;
  color: var(--text2);
  font-style: italic;
}

.reviews-empty {
  background: var(--card);
  border-radius: 12px;
  border: 1px solid var(--nav-shadow);
}

/* Notification System */
.review-notification {
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--btn-bg);
  color: var(--btn-text);
  padding: 16px 24px;
  border-radius: 12px;
  z-index: 10000;
  font-weight: 600;
  box-shadow: 0 8px 25px rgba(0,0,0,0.3);
  transform: translateX(100%);
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  max-width: 300px;
}

.review-notification.show {
  transform: translateX(0);
}

.review-notification.success {
  background: #10b981;
}

.review-notification.error {
  background: #ef4444;
}

.review-notification.info {
  background: #3b82f6;
}

/* Responsive Design */
@media (max-width: 768px) {
  .review-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  
  .review-actions {
    align-self: flex-end;
  }
  
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;
  }
  
  .form-actions {
    flex-direction: column;
  }
  
  .submit-review-btn,
  .cancel-edit-btn {
    width: 100%;
  }
}

@media (max-width: 480px) {
  .review-form-section {
    padding: 20px 15px;
  }
  
  .star {
    font-size: 1.7rem;
  }
  
  .review-card {
    padding: 15px;
  }
}

/* List Manager Styles */
.list-manager-fab {
  position: fixed !important;
  bottom: 30px !important;
  right: 30px !important;
  z-index: 10000 !important;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
}

.fab-main {
  width: 60px !important;
  height: 60px !important;
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%) !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  cursor: pointer !important;
  box-shadow: 0 8px 25px rgba(245, 158, 11, 0.4) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
  border: none !important;
  color: white !important;
  position: relative !important;
  overflow: hidden !important;
}

.fab-main::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s;
}

.fab-main:hover::before {
  left: 100%;
}

.fab-main:hover {
  transform: scale(1.1) rotate(90deg) !important;
  box-shadow: 0 12px 35px rgba(245, 158, 11, 0.6) !important;
}

.fab-main:active {
  transform: scale(0.95) !important;
}

.fab-tooltip {
  position: absolute !important;
  bottom: 70px !important;
  right: 0 !important;
  background: #1e293b !important;
  color: white !important;
  padding: 8px 12px !important;
  border-radius: 6px !important;
  font-size: 12px !important;
  font-weight: 500 !important;
  white-space: nowrap !important;
  opacity: 0 !important;
  transform: translateY(10px) !important;
  transition: all 0.3s ease !important;
  pointer-events: none !important;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3) !important;
}

.fab-main:hover + .fab-tooltip {
  opacity: 1 !important;
  transform: translateY(0) !important;
}

.list-dropdown {
  position: fixed;
  bottom: 100px;
  right: 30px;
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 20px;
  min-width: 320px;
  max-width: 400px;
  display: none;
  z-index: 10000;
  box-shadow: 0 20px 60px rgba(0,0,0,0.4);
  backdrop-filter: blur(20px);
  transform-origin: bottom right;
  animation: dropdownSlide 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes dropdownSlide {
  from {
    opacity: 0;
    transform: scale(0.8) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.list-dropdown.show {
  display: block !important;
}

.dropdown-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid #334155;
}

.dropdown-title {
  font-size: 18px;
  font-weight: 700;
  color: #f59e0b;
  margin: 0;
}

.close-btn {
  background: none;
  border: none;
  color: #64748b;
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
  transition: all 0.2s ease;
}

.close-btn:hover {
  background: #1e293b;
  color: #f59e0b;
}

.list-section {
  margin-bottom: 20px;
}

.list-section-title {
  font-size: 11px;
  color: #94a3b8;
  text-transform: uppercase;
  font-weight: 600;
  margin-bottom: 12px;
  letter-spacing: 0.5px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.list-section-title::after {
  content: '';
  flex: 1;
  height: 1px;
  background: #334155;
  margin-left: 8px;
}

.list-item { 
  display: flex; 
  align-items: center; 
  gap: 12px; 
  padding: 12px 10px; 
  cursor: pointer; 
  border-radius: 10px;
  transition: all 0.2s ease;
  margin-bottom: 4px;
}

.list-item:hover { 
  background: rgba(245, 158, 11, 0.1); 
  transform: translateX(4px);
}

.list-checkbox { 
  width: 20px; 
  height: 20px; 
  border: 2px solid #475569;
  border-radius: 6px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  flex-shrink: 0;
  transition: all 0.2s ease;
  position: relative;
}

.list-checkbox.checked { 
  background: #f59e0b; 
  border-color: #f59e0b;
  animation: checkPop 0.3s ease;
}

@keyframes checkPop {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

.list-checkbox.checked::after { 
  content: "‚úì"; 
  color: #0f172a; 
  font-size: 12px; 
  font-weight: bold; 
}

.list-item-text {
  flex: 1;
  font-size: 14px;
  font-weight: 500;
  color: #e2e8f0;
}

.list-item:hover .list-item-text {
  color: #f59e0b;
}

.new-list-section {
  border-top: 1px solid #334155;
  padding-top: 20px;
  margin-top: 15px;
}

.new-list-input { 
  width: 100%; 
  padding: 12px 16px; 
  background: #1e293b;
  border: 1px solid #475569; 
  border-radius: 10px; 
  color: white; 
  margin-bottom: 12px;
  font-size: 14px;
  transition: all 0.2s ease;
}

.new-list-input:focus {
  outline: none;
  border-color: #f59e0b;
  box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1);
}

.add-list-btn { 
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); 
  color: #0f172a; 
  border: none;
  padding: 12px 20px; 
  border-radius: 10px; 
  cursor: pointer; 
  font-weight: 600; 
  width: 100%; 
  font-size: 14px;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.add-list-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(245, 158, 11, 0.4);
}

.add-list-btn:active {
  transform: translateY(0);
}

.list-divider {
  height: 1px;
  background: linear-gradient(90deg, transparent, #334155, transparent);
  margin: 16px 0;
}

.empty-custom-lists {
  text-align: center;
  color: #64748b;
  font-size: 13px;
  padding: 20px;
  font-style: italic;
}

.auth-prompt {
  text-align: center;
  padding: 30px 20px;
  color: #94a3b8;
}

.auth-prompt .icon {
  font-size: 48px;
  margin-bottom: 12px;
  opacity: 0.5;
}

.auth-prompt .text {
  font-size: 14px;
  margin-bottom: 16px;
}

.login-btn {
  background: #f59e0b;
  color: #0f172a;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.login-btn:hover {
  background: #ffb84d;
}

/* Pulse animation for new lists */
@keyframes pulseGlow {
  0% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0.7); }
  70% { box-shadow: 0 0 0 10px rgba(245, 158, 11, 0); }
  100% { box-shadow: 0 0 0 0 rgba(245, 158, 11, 0); }
}

.pulse {
  animation: pulseGlow 2s infinite;
}
</style>
  <link rel="icon" type="image/png" href="images/logo.png">
</head>
<body>

<div class="top-stripe">
  <button class="back-btn" onclick="window.location.href='../index.html'">‚Üê Back to Restaurants</button>
  <button class="theme-toggle" id="themeToggle">üåô Dark Mode</button>
</div>

<section class="hero">
  <img src="../images/caizo.jpg" alt="Caizo Logo" class="logo" onclick="window.location.href='../index.html'">
  <h1>Caizo</h1>
  <p>Authentic Egyptian shawarma with premium ingredients and traditional flavors. Experience the taste of Egypt in every bite.</p>
  <div class="rating">‚≠ê 4.5/5 (2,800+ reviews)</div>

  <a href="tel:+201050003993" class="btn">Call Hotline: +20 10 50003993</a>
  <a href="https://www.instagram.com/caizoegypt/?hl=en" target="_blank" class="btn secondary">Order Online</a>
</section>

<section class="section">
  <h2>Contact & Branches</h2>
  <div class="hotline">
    <strong>Hotline:</strong> <a href="tel:+201050003993">+20 10 50003993</a>
    <strong>Website:</strong> <a href="https://www.instagram.com/caizoegypt/?hl=en" target="_blank">Instagram</a>
  </div>

  <div class="branches">
    <div class="branch-card">
      <h3>üìç Zayed</h3>
      <p>@theislewest<br>Open: 11:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+Zayed" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>üìç New Giza</h3>
      <p>@thegardensng<br>Open: 11:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+New+Giza" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>üìç New Cairo</h3>
      <p>@myplatz.co<br>Open: 11:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+New+Cairo" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>üìç Maadi</h3>
      <p>@thefieldmaadi<br>Open: 11:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+Maadi" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>üìç Sahel</h3>
      <p>@northed.eg / MV<br>Open: 11:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+Sahel" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>üìç Nasr City</h3>
      <p>Open: 11:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+Nasr+City" target="_blank">üìç Get Directions</a>
    </div>
    
    <div class="branch-card">
      <h3>üìç Drive THRU</h3>
      <p>Open: 11:00 AM - 2:00 AM</p>
      <a href="https://maps.google.com/search?q=Caizo+Drive+THRU" target="_blank">üìç Get Directions</a>
    </div>
  </div>
</section>

<section class="section menu">
  <h2>Chicken Shawerma</h2>
    
    <div class="menu-item">
      <div>
        <span>Chicken Shawerma Sandwich</span>
        <div class="menu-item-description">Indulge in the flavors of Egypt with our authentic chicken shawerma sandwich, featuring marinated chicken, pico de gallo, pickles, mint, garlic dip</div>
      </div>
      <span>60 EGP</span>
    </div>
  
    <div class="menu-item">
      <div>
        <span>Chicken Shawerma Dozen</span>
        <div class="menu-item-description">Savor the exquisite taste of Egypt with our 6-piece chicken shawerma sandwiches, crafted with marinated chicken, pico de gallo, pickles, mint, our signature garlic dip</div>
      </div>
      <span>355 - 705 EGP</span>
    </div>
  
    <div class="menu-item">
      <div>
        <span>Kilo Chicken Shawerma</span>
        <div class="menu-item-description">Indulge in our plate of authentic chicken shawerma, cooked to perfection. Savor the explosive flavors of pico de gallo salad, mint leaves, garlic dip, pickles as they complement the juicy chicken, don't hesitate to treat yourself to the best</div>
      </div>
      <span>250 - 890 EGP</span>
    </div>

  <h2 style="margin-top: 30px;">Meat Shawerma</h2>
  
    <div class="menu-item">
      <div>
        <span>Meat Shawerma Sandwich</span>
        <div class="menu-item-description">Authentic juicy Egyptian meat shawerma sandwich, in caizer bread, contains meat, parsely, mint, tahini, onions, tomatoes</div>
      </div>
      <span>66 EGP</span>
    </div>
  
    <div class="menu-item">
      <div>
        <span>Meat Shawerma Dozen</span>
        <div class="menu-item-description">Authentic juicy Egyptian meat shawerma sandwiches, in caizer bread, contains meat, parsely, mint, tahini, onions, tomatoes</div>
      </div>
      <span>395 - 785 EGP</span>
    </div>
  
    <div class="menu-item">
      <div>
        <span>Blend Meat Shawerma</span>
        <div class="menu-item-description">Indulge in our plate of authentic chicken shawerma, cooked to perfection, savor the explosive flavors of pico de gallo salad, mint leaves, garlic dip, pickles as they complement the juicy chicken</div>
      </div>
      <span>505 - 990 EGP</span>
    </div>
  
    <div class="menu-item">
      <div>
        <span>Plain Meat Shawerma</span>
        <div class="menu-item-description">Authentic Egyptian meat shawerma, contains meat, come with parsley, mint, tahini, onions, tomatoes as sides</div>
      </div>
      <span>300 - 1100 EGP</span>
    </div>

  <h2 style="margin-top: 30px;">Hawawshi</h2>

    <div class="menu-item">
      <div>
        <span>Hawawshi</span>
        <div class="menu-item-description">Experience the true flavors of Egypt with a mouthwatering hawawshi sandwich, crafted with care, served in traditional baladi bread</div>
      </div>
      <span>100 EGP</span>
    </div>

    <div class="menu-item">
      <div>
        <span>6 Hawawshi Pack</span>
        <div class="menu-item-description">Experience the true flavors of Egypt with 6 X mouthwatering Hawawshi sandwiches, crafted with care, served in traditional baladi bread</div>
      </div>
      <span>590 EGP</span>
    </div>

    <div class="menu-item">
      <div>
        <span>12 Hawawshi Pack</span>
        <div class="menu-item-description">Experience the true flavors of Egypt with 12 X mouthwatering hawawshi sandwiches, crafted with care, served in traditional baladi bread</div>
      </div>
      <span>1165 EGP</span>
    </div>

  <h2 style="margin-top: 30px;">Side Dishes</h2>

    <div class="menu-item">
      <span>Pickles</span>
      <span>16 EGP</span>
    </div>

    <div class="menu-item">
      <span>Big Ali Sauce</span>
      <span>18 EGP</span>
    </div>

    <div class="menu-item">
      <span>Tehina</span>
      <span>20 EGP</span>
    </div>

    <div class="menu-item">
      <span>Garlic Dip</span>
      <span>20 EGP</span>
    </div>

    <div class="menu-item">
      <span>Fries</span>
      <span>50 EGP</span>
    </div>

  <h2 style="margin-top: 30px;">Drinks</h2>

    <div class="menu-item">
      <span>V-Cola</span>
      <span>26 EGP</span>
    </div>

    <div class="menu-item">
      <span>V-Seven Lemon Mint</span>
      <span>26 EGP</span>
    </div>

    <div class="menu-item">
      <span>V-Seven Pineapple</span>
      <span>26 EGP</span>
    </div>

    <div class="menu-item">
      <span>Mango</span>
      <span>52 EGP</span>
    </div>

    <div class="menu-item">
      <span>Small Mineral Water</span>
      <span>16 EGP</span>
    </div>

    <div class="menu-item">
      <span>Coke Diet</span>
      <span>26 EGP</span>
    </div>

    <div class="menu-item">
      <span>Sobia</span>
      <span>48 EGP</span>
    </div>
  
  <a href="https://www.instagram.com/caizoegypt/?hl=en" target="_blank" class="btn secondary" style="margin-top: 20px;">View Full Menu</a>
</section>

<!-- ENHANCED REVIEW SYSTEM -->
<section class="section reviews" id="reviews-section">
  <h2>Customer Reviews</h2>
  
  <!-- Reviews Stats -->
  <div class="reviews-stats" id="reviewsStats">
    <div class="reviews-loading">Loading reviews...</div>
  </div>

  <!-- Reviews List -->
  <div class="reviews-container" id="reviewsList"></div>

  <!-- Add Review Form -->
  <div class="review-form-section">
    <h3>Share Your Experience</h3>
    <form id="review-form" style="display: none;">
      <div class="rating-input">
        <label>Your Rating:</label>
        <div class="stars-rating">
          <span class="star" data-rating="1">‚òÖ</span>
          <span class="star" data-rating="2">‚òÖ</span>
          <span class="star" data-rating="3">‚òÖ</span>
          <span class="star" data-rating="4">‚òÖ</span>
          <span class="star" data-rating="5">‚òÖ</span>
        </div>
        <span class="rating-text" id="ratingText">Select your rating</span>
      </div>
      
      <div class="comment-input">
        <textarea 
          id="review-comment" 
          placeholder="Tell us about your experience... What did you like? What could be better?" 
          rows="4" 
          maxlength="500"
        ></textarea>
        <div class="char-count">
          <span id="charCount">0</span>/500 characters
        </div>
      </div>
      
      <div class="form-actions">
        <button type="submit" class="btn submit-review-btn">
          <span class="btn-text">Submit Review</span>
          <span class="btn-loading" style="display: none;">Posting...</span>
        </button>
        <button type="button" class="btn secondary cancel-edit-btn" style="display: none;">
          Cancel Edit
        </button>
      </div>
    </form>
    
    <div id="auth-prompt" class="auth-prompt">
      <div class="auth-icon">üîê</div>
      <p>Please <a href="../login.html" class="auth-link">sign in</a> to share your experience</p>
    </div>
  </div>
</section>

<footer>
  <p>¬© 2025 Zo2y. All rights reserved.</p>
  <p style="margin-top: 10px; font-size: 0.8rem;">Caizo - Authentic Shawarma Experience</p>
  <p style="margin-top: 5px; font-size: 0.7rem; color: var(--text-color-secondary);">Delivery Areas: Zayed, New Giza, New Cairo, Maadi, Sahel, Nasr City</p>
</footer>

<script>
// Theme Toggle
const themeToggle = document.getElementById('themeToggle');
function applyTheme(theme){
  document.documentElement.setAttribute('data-theme',theme);
  if(themeToggle) themeToggle.textContent = theme==='dark'?'‚òÄÔ∏è Light Mode':'üåô Dark Mode';
  localStorage.setItem('restaurant-theme',theme);
}
function toggleTheme(){
  const current=document.documentElement.getAttribute('data-theme')||'light';
  applyTheme(current==='light'?'dark':'light');
}
function initializeTheme(){
  const saved=localStorage.getItem('restaurant-theme');
  if(saved) applyTheme(saved);
  else applyTheme(window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light');
}
if(themeToggle) themeToggle.addEventListener('click',toggleTheme);
initializeTheme();
</script>

<script type="module">
// Enhanced Review System
import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

const supabase = createClient("https://gfkhjbztayjyojsgdpgk.supabase.co", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdma2hqYnp0YXlqeW9qc2dkcGdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwOTYyNjQsImV4cCI6MjA3NTY3MjI2NH0.WUb2yDAwCeokdpWCPeH13FE8NhWF6G8e6ivTsgu6b2s");
const restaurantId = 1; // Caizo ID

let currentUser = null;
let currentRating = 0;
let editingReviewId = null;

// Initialize the review system
document.addEventListener('DOMContentLoaded', async () => {
    await checkAuth();
    await loadReviews();
    setupEventListeners();
});

async function checkAuth() {
    try {
        const { data: { user } } = await supabase.auth.getUser();
        currentUser = user;
        
        const reviewForm = document.getElementById('review-form');
        const authPrompt = document.getElementById('auth-prompt');
        
        if (user) {
            reviewForm.style.display = 'block';
            authPrompt.style.display = 'none';
        } else {
            reviewForm.style.display = 'none';
            authPrompt.style.display = 'block';
        }
    } catch (error) {
        console.error('Auth error:', error);
        showNotification('Error checking authentication', 'error');
    }
}

async function loadReviews() {
    const container = document.getElementById('reviewsList');
    const statsContainer = document.getElementById('reviewsStats');
    
    try {
        container.innerHTML = '<div class="reviews-loading">Loading reviews...</div>';
        
        const { data: reviews, error } = await supabase
            .from('reviews')
            .select('*')
            .eq('restaurant_id', restaurantId)
            .order('created_at', { ascending: false });

        if (error) throw error;

        if (!reviews || reviews.length === 0) {
            container.innerHTML = '<div class="reviews-empty">No reviews yet. Be the first to share your experience! üéâ</div>';
            statsContainer.innerHTML = '<div class="reviews-empty">No reviews yet</div>';
            return;
        }

        // Calculate stats
        const totalReviews = reviews.length;
        const averageRating = reviews.reduce((sum, review) => sum + review.rating, 0) / totalReviews;
        const ratingDistribution = {5: 0, 4: 0, 3: 0, 2: 0, 1: 0};
        reviews.forEach(review => ratingDistribution[review.rating]++);

        // Update stats display
        statsContainer.innerHTML = `
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value">${averageRating.toFixed(1)}</div>
                    <div class="stat-label">Average Rating</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${totalReviews}</div>
                    <div class="stat-label">Total Reviews</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">${Math.round((ratingDistribution[5] / totalReviews) * 100)}%</div>
                    <div class="stat-label">5 Star Reviews</div>
                </div>
            </div>
            <div class="rating-breakdown">
                ${[5, 4, 3, 2, 1].map(stars => `
                    <div class="rating-row">
                        <div class="rating-stars">${'‚òÖ'.repeat(stars)}</div>
                        <div class="rating-bar">
                            <div class="rating-fill" style="width: ${(ratingDistribution[stars] / totalReviews) * 100}%"></div>
                        </div>
                        <div class="rating-count">${ratingDistribution[stars]}</div>
                    </div>
                `).join('')}
            </div>
        `;

        // Load user profiles for display names
        const userIds = [...new Set(reviews.map(review => review.user_id))];
        const { data: users } = await supabase
            .from('user_profiles')
            .select('id, username, full_name')
            .in('id', userIds);

        const userMap = {};
        users?.forEach(user => userMap[user.id] = user);

        // Display reviews
        container.innerHTML = reviews.map(review => {
            const user = userMap[review.user_id];
            const displayName = user?.full_name || user?.username || 'Anonymous';
            const initials = displayName.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
            const canEditDelete = currentUser && currentUser.id === review.user_id;
            const isEditing = editingReviewId === review.id;

            return `
                <div class="review-card" id="review-${review.id}">
                    <div class="review-header">
                        <div class="reviewer-info">
                            <div class="reviewer-avatar">${initials}</div>
                            <div class="reviewer-details">
                                <div class="reviewer-name">${displayName}</div>
                                <div class="review-date">${new Date(review.created_at).toLocaleDateString('en-US', { 
                                    year: 'numeric', 
                                    month: 'long', 
                                    day: 'numeric' 
                                })}</div>
                            </div>
                        </div>
                        <div class="review-rating">${'‚òÖ'.repeat(review.rating)}${'‚òÜ'.repeat(5 - review.rating)}</div>
                    </div>
                    <p class="review-comment">${review.comment}</p>
                    ${canEditDelete ? `
                        <div class="review-actions">
                            <button class="review-edit" onclick="editReview('${review.id}')">Edit</button>
                            <button class="review-delete" onclick="deleteReview('${review.id}')">Delete</button>
                        </div>
                    ` : ''}
                </div>
            `;
        }).join('');

    } catch (error) {
        console.error('Error loading reviews:', error);
        container.innerHTML = '<div class="reviews-empty">Error loading reviews. Please try again later.</div>';
        showNotification('Error loading reviews', 'error');
    }
}

function setupEventListeners() {
    // Star rating
    document.addEventListener('click', (e) => {
        if (e.target.classList.contains('star')) {
            currentRating = parseInt(e.target.dataset.rating);
            updateStars();
        }
    });

    // Review form submission
    const reviewForm = document.getElementById('review-form');
    if (reviewForm) {
        reviewForm.addEventListener('submit', submitReview);
    }

    // Character count
    const commentTextarea = document.getElementById('review-comment');
    if (commentTextarea) {
        commentTextarea.addEventListener('input', updateCharCount);
    }

    // Cancel edit button
    const cancelEditBtn = document.querySelector('.cancel-edit-btn');
    if (cancelEditBtn) {
        cancelEditBtn.addEventListener('click', cancelEdit);
    }
}

function updateStars() {
    const stars = document.querySelectorAll('.star');
    const ratingText = document.getElementById('ratingText');
    
    stars.forEach(star => {
        const starRating = parseInt(star.dataset.rating);
        star.classList.toggle('active', starRating <= currentRating);
    });

    const ratingTexts = ['Select your rating', 'Poor', 'Fair', 'Good', 'Very Good', 'Excellent'];
    if (ratingText) {
        ratingText.textContent = ratingTexts[currentRating] || 'Select your rating';
    }
}

function updateCharCount() {
    const textarea = document.getElementById('review-comment');
    const charCount = document.getElementById('charCount');
    if (textarea && charCount) {
        charCount.textContent = textarea.value.length;
    }
}

async function submitReview(e) {
    e.preventDefault();
    
    if (!currentUser) {
        showNotification('Please sign in to submit a review', 'error');
        return;
    }

    const comment = document.getElementById('review-comment').value.trim();
    
    if (currentRating === 0) {
        showNotification('Please select a rating', 'error');
        return;
    }

    if (!comment) {
        showNotification('Please write a comment', 'error');
        return;
    }

    if (comment.length > 500) {
        showNotification('Comment must be 500 characters or less', 'error');
        return;
    }

    const submitBtn = document.querySelector('.submit-review-btn');
    const btnText = submitBtn.querySelector('.btn-text');
    const btnLoading = submitBtn.querySelector('.btn-loading');
    
    // Show loading state
    submitBtn.disabled = true;
    btnText.style.display = 'none';
    btnLoading.style.display = 'inline';

    try {
        if (editingReviewId) {
            // Update existing review
            const { error } = await supabase
                .from('reviews')
                .update({ 
                    rating: currentRating, 
                    comment: comment,
                    updated_at: new Date().toISOString()
                })
                .eq('id', editingReviewId)
                .eq('user_id', currentUser.id);

            if (error) throw error;
            
            showNotification('Review updated successfully!', 'success');
            cancelEdit();
        } else {
            // Create new review
            const { data: profile } = await supabase
                .from('user_profiles')
                .select('username, full_name')
                .eq('id', currentUser.id)
                .single();

            const displayName = profile?.full_name || profile?.username || 'User';

            const { error } = await supabase
                .from('reviews')
                .insert({
                    restaurant_id: restaurantId,
                    user_id: currentUser.id,
                    user_name: displayName,
                    rating: currentRating,
                    comment: comment
                });

            if (error) throw error;
            
            showNotification('Review submitted successfully!', 'success');
        }

        // Reset form
        document.getElementById('review-form').reset();
        currentRating = 0;
        updateStars();
        updateCharCount();
        
        // Reload reviews
        await loadReviews();

    } catch (error) {
        console.error('Error submitting review:', error);
        showNotification('Error submitting review. Please try again.', 'error');
    } finally {
        // Reset button state
        submitBtn.disabled = false;
        btnText.style.display = 'inline';
        btnLoading.style.display = 'none';
    }
}

async function editReview(reviewId) {
    try {
        const { data: review } = await supabase
            .from('reviews')
            .select('*')
            .eq('id', reviewId)
            .eq('user_id', currentUser.id)
            .single();

        if (!review) {
            showNotification('Review not found', 'error');
            return;
        }

        editingReviewId = reviewId;
        currentRating = review.rating;
        
        document.getElementById('review-comment').value = review.comment;
        updateStars();
        updateCharCount();
        
        document.querySelector('.submit-review-btn .btn-text').textContent = 'Update Review';
        document.querySelector('.cancel-edit-btn').style.display = 'inline-block';
        
        // Scroll to form
        document.getElementById('review-form').scrollIntoView({ 
            behavior: 'smooth',
            block: 'center'
        });

    } catch (error) {
        console.error('Error loading review for edit:', error);
        showNotification('Error loading review', 'error');
    }
}

function cancelEdit() {
    editingReviewId = null;
    currentRating = 0;
    
    document.getElementById('review-form').reset();
    updateStars();
    updateCharCount();
    
    document.querySelector('.submit-review-btn .btn-text').textContent = 'Submit Review';
    document.querySelector('.cancel-edit-btn').style.display = 'none';
}

async function deleteReview(reviewId) {
    if (!currentUser || !confirm('Are you sure you want to delete this review? This action cannot be undone.')) {
        return;
    }

    try {
        const { error } = await supabase
            .from('reviews')
            .delete()
            .eq('id', reviewId)
            .eq('user_id', currentUser.id);

        if (error) throw error;
        
        showNotification('Review deleted successfully', 'success');
        await loadReviews();

    } catch (error) {
        console.error('Error deleting review:', error);
        showNotification('Error deleting review', 'error');
    }
}

function showNotification(message, type = 'info') {
    // Remove existing notifications
    const existingNotifications = document.querySelectorAll('.review-notification');
    existingNotifications.forEach(notification => notification.remove());

    const notification = document.createElement('div');
    notification.className = `review-notification ${type}`;
    notification.textContent = message;
    
    document.body.appendChild(notification);

    // Animate in
    setTimeout(() => {
        notification.classList.add('show');
    }, 10);

    // Auto remove after 4 seconds
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            if (notification.parentNode) {
                notification.remove();
            }
        }, 400);
    }, 4000);
}

// Make functions globally available
window.editReview = editReview;
window.deleteReview = deleteReview;
</script>

<!-- List Manager Button -->
<script>
// Wait for page to load
window.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ Page loaded, initializing list manager...');
    
    // Load Supabase via ES modules - THIS IS THE WORKING METHOD
    const script = document.createElement('script');
    script.type = 'module';
    script.innerHTML = `
        import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';
        
        const supabaseUrl = "https://gfkhjbztayjyojsgdpgk.supabase.co";
        const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdma2hqYnp0YXlqeW9qc2dkcGdrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwOTYyNjQsImV4cCI6MjA3NTY3MjI2NH0.WUb2yDAwCeokdpWCPeH13FE8NhWF6G8e6ivTsgu6b2s";
        
        const supabase = createClient(supabaseUrl, supabaseKey);
        window.supabase = supabase;
        console.log('‚úÖ Supabase initialized via ES modules');
        
        // Now initialize the list manager
        setTimeout(() => {
            new RestaurantListManager();
        }, 100);
    `;
    document.head.appendChild(script);
});

// List Manager Class
class RestaurantListManager {
    constructor() {
        this.supabase = window.supabase;
        this.restaurantId = this.getRestaurantIdFromSlug();
        this.userLists = [];
        this.customLists = [];
        console.log('üéØ RestaurantListManager created for ID:', this.restaurantId);
        this.init();
    }

    getRestaurantIdFromSlug() {
        const path = window.location.pathname;
        const slug = path.split('/').pop().replace('.html', '');
        const slugToId = {
            'caizo': 1,
            'tabali': 2,
            'panda': 3,
            'pablo': 4
        };
        return slugToId[slug] || null;
    }

    async init() {
        console.log('üîß Initializing list manager...');
        await this.checkAuth();
        if (this.currentUser) {
            await this.loadUserLists();
        }
        this.injectListMenu();
    }

    async checkAuth() {
        try {
            console.log('üîê Checking authentication...');
            const { data: { session } } = await this.supabase.auth.getSession();
            this.currentUser = session?.user || null;
            console.log('üîê Auth result:', this.currentUser ? 'User logged in' : 'No user');
        } catch (error) {
            console.error('Auth error:', error);
            this.currentUser = null;
        }
    }

    async loadUserLists() {
        try {
            const { data: lists } = await this.supabase
                .from('lists').select('*').eq('user_id', this.currentUser.id);
            this.userLists = lists || [];
            
            // Separate custom lists from default lists
            this.customLists = this.userLists.filter(list => 
                !['Favorites', 'Visited', 'Want to Go'].includes(list.title)
            );
            console.log('üìã Loaded user lists:', this.userLists.length);
        } catch (error) {
            console.error('Error loading lists:', error);
            this.userLists = [];
            this.customLists = [];
        }
    }

    injectListMenu() {
        console.log('üéØ Injecting list menu...');
        
        // Remove existing FAB if any
        const existingFab = document.querySelector('.list-manager-fab');
        if (existingFab) {
            existingFab.remove();
        }
        
        // Remove existing dropdown if any
        const existingDropdown = document.querySelector('.list-dropdown');
        if (existingDropdown) {
            existingDropdown.remove();
        }

        // Create the floating action button
        const fab = document.createElement('div');
        fab.className = 'list-manager-fab';
        fab.innerHTML = `
            <div class="fab-main">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12h14"/>
                </svg>
            </div>
            <div class="fab-tooltip">Save to Lists</div>
        `;
        
        // Create dropdown
        const dropdown = document.createElement('div');
        dropdown.className = 'list-dropdown';
        
        // FAB click handler
        fab.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdown.classList.toggle('show');
            if (dropdown.classList.contains('show')) {
                this.updateDropdown(dropdown);
                // Add pulse animation to FAB when dropdown is open
                fab.querySelector('.fab-main').classList.add('pulse');
            } else {
                fab.querySelector('.fab-main').classList.remove('pulse');
            }
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', () => {
            dropdown.classList.remove('show');
            fab.querySelector('.fab-main').classList.remove('pulse');
        });
        
        dropdown.addEventListener('click', (e) => e.stopPropagation());
        
        // Add to page
        document.body.appendChild(fab);
        document.body.appendChild(dropdown);
        
        console.log('‚úÖ List Manager FAB Added to page!');
    }

    async updateDropdown(dropdown) {
        dropdown.innerHTML = `
            <div class="dropdown-header">
                <h3 class="dropdown-title">üí´ Save to Lists</h3>
                <button class="close-btn" onclick="this.closest('.list-dropdown').classList.remove('show')">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
        `;

        if (!this.currentUser) {
            dropdown.innerHTML += `
                <div class="auth-prompt">
                    <div class="icon">üîê</div>
                    <div class="text">Sign in to save restaurants to your lists</div>
                    <button class="login-btn" onclick="window.location.href='../login.html'">
                        Sign In
                    </button>
                </div>
            `;
            return;
        }

        // Quick Actions Section
        const quickSection = document.createElement('div');
        quickSection.className = 'list-section';
        quickSection.innerHTML = '<div class="list-section-title">üåü Quick Actions</div>';
        
        const quickLists = [
            { id: 'favorites', name: '‚ù§Ô∏è Favorites', icon: '‚ù§Ô∏è' },
            { id: 'wantToGo', name: 'üìç Want to Go', icon: 'üìç' },
            { id: 'visited', name: 'üçΩÔ∏è Visited', icon: 'üçΩÔ∏è' }
        ];

        for (const list of quickLists) {
            const isInList = await this.checkIfInList(list.id);
            const item = document.createElement('div');
            item.className = 'list-item';
            item.innerHTML = `
                <div class="list-checkbox ${isInList ? 'checked' : ''}"></div>
                <span class="list-item-text">${list.name}</span>
            `;
            item.onclick = () => this.toggleList(list.id);
            quickSection.appendChild(item);
        }
        
        dropdown.appendChild(quickSection);

        // Custom Lists Section
        if (this.customLists.length > 0) {
            const divider = document.createElement('div');
            divider.className = 'list-divider';
            dropdown.appendChild(divider);

            const customSection = document.createElement('div');
            customSection.className = 'list-section';
            customSection.innerHTML = '<div class="list-section-title">üìÅ Your Collections</div>';

            for (const list of this.customLists) {
                const isInList = await this.checkIfCustomList(list.id);
                const item = document.createElement('div');
                item.className = 'list-item';
                item.innerHTML = `
                    <div class="list-checkbox ${isInList ? 'checked' : ''}"></div>
                    <span class="list-item-text">${list.title}</span>
                `;
                item.onclick = () => this.toggleCustomList(list.id);
                customSection.appendChild(item);
            }
            
            dropdown.appendChild(customSection);
        } else {
            const divider = document.createElement('div');
            divider.className = 'list-divider';
            dropdown.appendChild(divider);
            
            const emptySection = document.createElement('div');
            emptySection.className = 'empty-custom-lists';
            emptySection.innerHTML = 'No custom lists yet. Create your first one below! ‚ú®';
            dropdown.appendChild(emptySection);
        }

        // Create New List Section
        const newDiv = document.createElement('div');
        newDiv.className = 'new-list-section';
        newDiv.innerHTML = `
            <div class="list-section-title">üÜï Create New</div>
            <input type="text" class="new-list-input" placeholder="What should we call your new list?" id="newListName">
            <button class="add-list-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12h14"/>
                </svg>
                Create Custom List
            </button>
        `;
        
        const input = newDiv.querySelector('input');
        const button = newDiv.querySelector('button');
        
        button.onclick = () => this.createNewList();
        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                this.createNewList();
            }
        });
        
        dropdown.appendChild(newDiv);
    }

    async checkIfInList(listType) {
        if (!this.currentUser || !this.restaurantId) return false;
        const title = { favorites: 'Favorites', visited: 'Visited', wantToGo: 'Want to Go' }[listType];
        const { data: list } = await this.supabase.from('lists').select('id')
            .eq('user_id', this.currentUser.id).eq('title', title).single();
        if (!list) return false;
        const { data: listRestaurants } = await this.supabase.from('lists_restraunts')
            .select('id').eq('list_id', list.id).eq('restraunt_id', this.restaurantId).single();
        return !!listRestaurants;
    }

    async checkIfCustomList(listId) {
        if (!this.currentUser || !this.restaurantId) return false;
        const { data: listRestaurants } = await this.supabase.from('lists_restraunts')
            .select('id').eq('list_id', listId).eq('restraunt_id', this.restaurantId).single();
        return !!listRestaurants;
    }

    async toggleList(listType) {
        if (!this.currentUser || !this.restaurantId) {
            this.showNotification('Please log in to use lists', 'warning');
            return;
        }
        
        const title = { favorites: 'Favorites', visited: 'Visited', wantToGo: 'Want to Go' }[listType];
        let { data: list } = await this.supabase.from('lists').select('id')
            .eq('user_id', this.currentUser.id).eq('title', title).single();
            
        if (!list) {
            const { data: newList } = await this.supabase.from('lists')
                .insert([{ user_id: this.currentUser.id, title: title }]).select().single();
            list = newList;
        }
        
        const isInList = await this.checkIfInList(listType);
        if (isInList) {
            await this.supabase.from('lists_restraunts').delete()
                .match({ list_id: list.id, restraunt_id: this.restaurantId });
            this.showNotification(`Removed from ${title}`, 'info');
        } else {
            await this.supabase.from('lists_restraunts').insert([
                { list_id: list.id, restraunt_id: this.restaurantId }
            ]);
            this.showNotification(`Added to ${title} ‚úÖ`, 'success');
        }
        
        this.updateDropdown(document.querySelector('.list-dropdown'));
    }

    async toggleCustomList(listId) {
        if (!this.currentUser || !this.restaurantId) {
            this.showNotification('Please log in to use lists', 'warning');
            return;
        }
        
        const list = this.customLists.find(l => l.id === listId);
        const isInList = await this.checkIfCustomList(listId);
        
        if (isInList) {
            await this.supabase.from('lists_restraunts').delete()
                .match({ list_id: listId, restraunt_id: this.restaurantId });
            this.showNotification(`Removed from ${list.title}`, 'info');
        } else {
            await this.supabase.from('lists_restraunts').insert([
                { list_id: listId, restraunt_id: this.restaurantId }
            ]);
            this.showNotification(`Added to ${list.title} ‚úÖ`, 'success');
        }
        
        this.updateDropdown(document.querySelector('.list-dropdown'));
    }

    async createNewList() {
        const input = document.getElementById('newListName');
        const name = input.value.trim();
        
        if (!name) {
            this.showNotification('Please enter a list name', 'warning');
            return;
        }

        if (!this.currentUser) {
            this.showNotification('Please log in to create lists', 'warning');
            return;
        }

        try {
            const { data: newList } = await this.supabase.from('lists')
                .insert([{ user_id: this.currentUser.id, title: name }]).select().single();
            
            if (newList) {
                this.customLists.push(newList);
                input.value = '';
                this.showNotification(`‚ú® "${name}" created!`, 'success');
                this.updateDropdown(document.querySelector('.list-dropdown'));
            }
        } catch (error) {
            this.showNotification('Error creating list: ' + error.message, 'error');
        }
    }

    showNotification(message, type = 'info') {
        const colors = {
            success: '#10b981',
            error: '#ef4444',
            warning: '#f59e0b',
            info: '#3b82f6'
        };
        
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 30px;
            right: 30px;
            background: ${colors[type] || colors.info};
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            z-index: 10001;
            font-weight: 600;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            max-width: 300px;
            word-wrap: break-word;
        `;
        notification.textContent = message;
        document.body.appendChild(notification);
        
        // Animate in
        setTimeout(() => {
            notification.style.transform = 'translateX(0)';
        }, 10);
        
        setTimeout(() => {
            notification.style.transform = 'translateX(100%)';
            setTimeout(() => {
                notification.remove();
            }, 400);
        }, 3000);
    }
}
</script>
</body>
</html>